

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>signature_strength &mdash; CJF-CMAP 1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="CJF-CMAP 1.1 documentation" href="index.html" />
    <link rel="up" title="analytics" href="analytics.html" />
    <link rel="next" title="gsea" href="gsea.html" />
    <link rel="prev" title="analytics" href="analytics.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="_static/CJF2.png" alt="Logo"/><h1 class="heading"><a href="index.html">
          <span>CJF-CMAP 1.1 documentation</span></a></h1>
        <h2 class="heading"><span>signature_strength</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="analytics.html">analytics</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="gsea.html">gsea</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-cjf.cmap.analytics.signature_strength">
<span id="signature-strength"></span><h1>signature_strength<a class="headerlink" href="#module-cjf.cmap.analytics.signature_strength" title="Permalink to this headline">¶</a></h1>
<p>Created on Jan 9, 2012</p>
<p>&#64;author: cflynn</p>
<p>signature_strength provides modules for processing of signatures in the form of .rnk files.
These files are typically produced by bsig_gen and must be tab-delimited text files 
containing a column of signal to noise (or other comparator) scores and probeset names.  The
provided methods allow for the comparison of signatures within and across logical groupings
of signatures provided by their grouping into folders on disc.</p>
<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.edge_overlap">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">edge_overlap</tt><big>(</big><em>rnk_one</em>, <em>rnk_two</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#edge_overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.edge_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the number of probesets that overlap at the top and bottom edges of two .rnk 
files. The .rnk files are assumed to be in the same probe space. Return two values, one 
for the overlap at the top of the file and one for the overlap at the bottom.</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.edge_overlap_summary">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">edge_overlap_summary</tt><big>(</big><em>directory_one</em>, <em>directory_two</em>, <em>summary_file</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#edge_overlap_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.edge_overlap_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate summary_file containing the name of all signature classes and their overlap
between the contexts specified by directory_one and directory_two.  Overlaps at the top
and the bottom of the .rnk files are reported</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.edge_overlap_summary_to_json">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">edge_overlap_summary_to_json</tt><big>(</big><em>summary_file</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#edge_overlap_summary_to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.edge_overlap_summary_to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates json_file containing an object for each signature class found in 
summary_file.  Signature names in summary_file are assumed to be in the 
CELL_CLASS naming scheme.  Json objects in json_file will contain a &#8216;name&#8217; field
as well as &#8220;up&#8221; and &#8220;down&#8221; fields for overlap counts</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.get_rnk_files">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">get_rnk_files</tt><big>(</big><em>folder</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#get_rnk_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.get_rnk_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect all of the .rnk files in the specified folder and return their full paths in
a list.</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.is_rnk">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">is_rnk</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#is_rnk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.is_rnk" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for filtering lists to contain &#8216;.rnk&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.make_edge_overlap_html">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">make_edge_overlap_html</tt><big>(</big><em>rnk_one_dir</em>, <em>rnk_two_dir</em>, <em>out_dir</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#make_edge_overlap_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.make_edge_overlap_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an html report from edge overlap data.  The edge overlap data is computed from
two folders with .rnk files in them and a standard html template is used as the base
of the report</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.make_rnks_from_gct">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">make_rnks_from_gct</tt><big>(</big><em>gct_file</em>, <em>rnk_dir</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#make_rnks_from_gct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.make_rnks_from_gct" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a .rnk file with a column of probe ids and a column of scores for each sample
in the specified tag file using the specified gct file</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.make_rnks_from_tag">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">make_rnks_from_tag</tt><big>(</big><em>gct_file</em>, <em>tag_file</em>, <em>rnk_dir</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#make_rnks_from_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.make_rnks_from_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a .rnk file with a column of probe ids and a column of scores for each phenotype
in the specified tag file using the specified gct file</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.make_sig_strength_html">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">make_sig_strength_html</tt><big>(</big><em>summary_file</em>, <em>out_dir</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#make_sig_strength_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.make_sig_strength_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an html report from signature strength data.  the signature strength data is 
taken from summary_file and placed into a template html file.  The output is written to
out_dir.</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.sig_stregth">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">sig_stregth</tt><big>(</big><em>file_path</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#sig_stregth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.sig_stregth" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a signature strength measure for the specified .rnk file.  The signature 
strength is the mean z-score difference between the top and bottom probe_num 
probesets in each signature.</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.sig_strength_summary_from_gct">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">sig_strength_summary_from_gct</tt><big>(</big><em>gct_file</em>, <em>probe_num=50</em>, <em>do_zthresh=False</em>, <em>return_list=False</em>, <em>summary_file=None</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#sig_strength_summary_from_gct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.sig_strength_summary_from_gct" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate summary_file containing signatures for all of the columns in gct_file 
along with signature strength measures.  The output file is sorted by descending 
signature strength</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.sig_strength_summary_from_rnk">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">sig_strength_summary_from_rnk</tt><big>(</big><em>directory_path</em>, <em>summary_file</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#sig_strength_summary_from_rnk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.sig_strength_summary_from_rnk" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate summary_file containing signatures for all of the .rnk files found in 
directory_path and its sub-directories along with signature strength measures.  
The output file is sorted by descending signature strength</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.sig_strength_summary_to_json">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">sig_strength_summary_to_json</tt><big>(</big><em>summary_file</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#sig_strength_summary_to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.sig_strength_summary_to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates json_file containing an object for each signature class found in 
summary_file.  Signature names in summary_file are assumed to be in the 
CELL_CLASS naming scheme.  Json objects in json_file will contain a &#8216;name&#8217; field
as well as a field for the signature strength of each unique CELL found</p>
</dd></dl>

<dl class="function">
<dt id="cjf.cmap.analytics.signature_strength.sig_strength_summary_to_table">
<tt class="descclassname">cjf.cmap.analytics.signature_strength.</tt><tt class="descname">sig_strength_summary_to_table</tt><big>(</big><em>summary_file</em>, <em>table_file</em><big>)</big><a class="reference internal" href="_modules/cjf/cmap/analytics/signature_strength.html#sig_strength_summary_to_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cjf.cmap.analytics.signature_strength.sig_strength_summary_to_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates table_file containing a line for each signature class found in 
summary_file.  Signature names in summary_file are assumed to be in the 
CELL_CLASS naming scheme.  lines in table_file will contain a &#8216;name&#8217; column
as well as a column for the signature strength of each unique CELL found</p>
</dd></dl>

</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="analytics.html">analytics</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="gsea.html">gsea</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Corey Flynn.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>